<h1 class="text-center">Twoje rezerwacje</h1>
<div *ngIf="userReservations?.length>0">
  <form class="form-inline row justify-content-center"  #form="ngForm" ngSubmit="loadReservations()" novalidate>
    <div class="form-group mr-2">
  
      <label for="start">Data:</label>
      <input type="text" [(ngModel)]="reservationParams.start"  id="start" name="start" class="form-control ml-1" bsDatepicker>
    </div>
  
    <div class="form-group mr-2">
      <label for="pingPongTableId">Id stołu:</label>
      <input type="text"  [(ngModel)]="reservationParams.pingPongTableId" class="form-control ml-1" id="pingPongTableId" name="pingPongTableId">
    </div>
  
      <div class="btn-group mr-2" dropdown>
        <button id="button-animated" dropdownToggle type="button" class="btn btn-info dropdown-toggle"aria-controls="dropdown-animated"> Sortowanie <span class="caret"></span></button>
        <ul id="dropdown-animated" *dropdownMenu class="dropdown-menu"role="menu" aria-labelledby="button-animated">
          <li role="menuitem"><a (click)="reservationParams.orderBy='start';getReservations()" class="dropdown-item">Data</a></li>
          <li role="menuitem"><a (click)="reservationParams.orderBy='pingPongTableId';getReservations()" class="dropdown-item">Stoły</a></li>
        </ul>
      </div>
      <button type="submit" class="btn btn-primary mr-2" (click)="getReservations()">Zastosuj</button>

      <button type="button" class="btn btn-secondary" (click)="resetFilters()">Resetuj</button>
  </form>
<div  class="row justify-content-center mt-3">
  <table class='table table-striped col-6' aria-labelledby="tableLabel">
    <thead>
      <tr>
        <th>Data</th>
        <th>Godzina</th>
        <th>Stół</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let reservation of userReservations">
        <td>{{reservation.start.toLocaleDateString()}}</td>
        <td>{{reservation.start.getHours()}}:00-{{reservation.start.getHours()+1}}:00</td>
        <td>{{reservation.pingPongTableId}}</td>
        <td><button type="button" class="btn btn-danger btn-sm ml-3"
          (click)="cancelReservation(reservation)">Anuluj!</button></td>
      </tr>
    </tbody>
  </table>
</div>
<div  class="row justify-content-center">
  <pagination [boundaryLinks]="true" [totalItems]="pagination.totalItems" [itemsPerPage]="pagination.itemsPerPage"
    (pageChanged)="pageChanged($event)" [(ngModel)]="pagination.currentPage" previousText="&lsaquo;"
    nextText="&rsaquo;" firstText="&laquo;" lastText="&raquo;">
  </pagination>
</div>
</div>
  
<div *ngIf="userReservations?.length==0">
  <div class="row justify-content-center">
    Nie masz obecnie żadnych rezerwacji. Jeżeli planujesz wizytę u nas to zajrzyj tutaj:
  </div>
  <div class="row mt-2 justify-content-center">
    <button type="button" [routerLink]="['/rooms-view']" class="btn btn-success btn-lg">Sale</button>
  </div>
</div>
